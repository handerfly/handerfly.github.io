---
layout:     post
title:      Ansible总结
date:       2019-05-18
author:     BenderFly
header-img: img/post-bg-coffee.jpeg
catalog: true
categories: 运维
tags:
    - Ansible
    - 运维
---

# Ansible总结

## 安装ansible
```
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
yum install -y ansible
```
## 查看ansible生成的文件
```
rpm -ql ansible|more
```

配置ssh免密码登录
```
ssh-keygen
ssh-copy-id 192.168.107.131 # 复制秘钥到远程主机
```
# 查看帮助文档
```
## ansible-doc -h 
ansible-doc -s module-name # 查看模块使用方法(显示片段)
ansible-doc module-name    # 查看模块使用方法(更具体)
```

# ansible命令参数
```
语法: ansible<host-pattern> [-f forks] [-m module_name] [-a args] 
ansible -h     命令格式查看

-v,–verbose    			 			# 细模式，如果命令执行成功，输出详细的结果 (-vv –vvv -vvvv)
-i PATH,–inventory=PATH  			# 指定 host 文件的路径，默认是在 /etc/ansible/hosts
-f NUM,–forks=NUM 		 			# NUM 是指定一个整数，默认是 5 ，指定 fork 开启同步进程的个数。用来做高并发的
-m NAME,–module-name=NAME			# 指定使用的 module 名称，默认是 command
-m DIRECTORY,–module-path=DIRECTORY # 指定 module 的目录来加载 module ，默认是/usr/share/ansible,
-a MODULE_ARGS, --args=MODULE_ARGS  # 指定 module 模块的参数
-k,–ask-pass						# 提示输入 ssh 的密码，而不是使用基于 ssh 的密钥认证
–sudo								# 指定使用 sudo 获得 root 权限
-K,–ask-sudo-pass   				# 提示输入 sudo 密码，与 –sudo 一起使用
-u USERNAME,–user=USERNAME  		# 指定移动端的执行用户
-C,–check                           # 测试此命令执行会改变什么内容，不会真正的去执行
--list-hosts #列出主机列表
--syntax-check # 语法检查
```


