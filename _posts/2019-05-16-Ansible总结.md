---
layout:     post
title:      Ansible总结
date:       2019-05-16
author:     BenderFly
header-img: img/post-bg-coffee.jpeg
catalog: true
categories: 运维
tags:
    - Ansible
    - 运维
---

# Ansible总结

安装ansible
```
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
yum install -y ansible
```
查看ansible生成的文件
```
rpm -ql ansible|more
```

配置ssh免密码登录
```
ssh-keygen
ssh-copy-id 192.168.107.131 # 复制秘钥到远程主机
```

# ansible 命令格式
```
ansible -h     命令格式查看

nsible <host-pattern> [options]
-a MODULE_ARGS, --args=MODULE_ARGS #模块的参数
-C, --check # 检查
-f FORKS, --forks=FORKS #用来做高并发的
--list-hosts #列出主机列表
 -m MODULE_NAME #模块名称
 --syntax-check # 语法检查
 -k 输入密码 (-K sudo密码) 
```

编辑ansible的hosts文件
```
vi /etc/ansible//hosts  #在这里面加入你要控制的机器ip
```



![getopts](https://raw.githubusercontent.com/handerfly/handerfly.github.io/master/img/getopt.png)  

[参考](https://www.linuxprobe.com/screen-example.html)